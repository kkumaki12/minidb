/*
Package disk はデータベースのディスクI/O層を提供する。

# 概要

DiskManagerはヒープファイル（データを格納するファイル）に対して、
ページ単位での読み書きを行う。データベースではディスクアクセスを
ページ（固定サイズのブロック）単位で行うのが一般的である。

# ページとは

ページはディスクI/Oの最小単位（このDBでは4KB）。
データベースのレコードはページ内に格納され、ページ単位で
ディスクとメモリ間を移動する。

	┌─────────────────────────────────────┐
	│          ヒープファイル               │
	├─────────┬─────────┬─────────┬───────┤
	│ Page 0  │ Page 1  │ Page 2  │  ...  │
	│ (4KB)   │ (4KB)   │ (4KB)   │       │
	└─────────┴─────────┴─────────┴───────┘

# PageID

PageIDはページを一意に識別する番号。ファイル先頭から順に0, 1, 2...と
割り振られる。PageIDからファイル内のオフセット位置を計算できる：

	offset = PageID × PageSize

# 主な機能

  - Open: ヒープファイルを開く（なければ作成）
  - ReadPageData: 指定ページをディスクから読み込む
  - WritePageData: 指定ページをディスクに書き込む
  - AllocatePage: 新しいページを割り当てる
  - Sync: バッファをディスクに強制書き込み（fsync）

# なぜSyncが重要か

OSはパフォーマンスのためにディスク書き込みをバッファリングする。
Syncを呼ばないと、クラッシュ時にデータが失われる可能性がある。
トランザクションのコミット時などにSyncを呼ぶことでデータの永続性を保証する。
*/
package disk
